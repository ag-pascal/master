"undefined"==typeof smartms&&(smartms={}),smartms.dialogs=function(a){var t=this;t.params={modalTemplate:'<div class="modal {{noButtons}}"><div class="modal-inner">{{if title}}<div class="modal-title">{{title}}</div>{{/if title}}<div class="modal-text">{{text}}</div>{{afterText}}</div><div class="modal-buttons">{{buttons}}</div></div>',modalActionsTemplate:'<div class="actions-modal">{{buttons}}</div>',modalButtonOk:"OK",modalButtonCancel:"Cancel",modalTitle:"SmartMS",modalCloseByOutside:!1,modalActionsCloseByOutside:!0,modalPreloaderText:"Loading... ",modalPreloaderTitle:"Loading... ",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",popupCloseByOutside:!0,popoverCloseByOutside:!0,modalStack:!0,modalsMoveToRoot:!0,material:!1,materialPreloaderSvg:'<svg xmlns="http://www.w3.org/2000/svg" height="75" width="75" viewbox="0 0 75 75"><circle cx="37.5" cy="37.5" r="33.5" stroke-width="8"/></svg>',materialPreloaderHtml:'<span class="preloader-inner"><span class="preloader-inner-gap"></span><span class="preloader-inner-left"><span class="preloader-inner-half-circle"></span></span><span class="preloader-inner-right"><span class="preloader-inner-half-circle"></span></span></span>'};for(var o in a)t.params[o]=a[o];t._modalTemlateTempDiv=document.createElement("div"),t.modal=function(a){var o="";if((a=a||{}).buttons&&a.buttons.length>0)for(var e=0;e<a.buttons.length;e++)o+='<span class="modal-button'+(a.buttons[e].bold?" modal-button-bold":"")+'">'+a.buttons[e].text+"</span>";var l=t.params.modalTemplate,n=(l=a.title?l.replace(/{{if\ title}}/g,"").replace(/{{\/if\ title}}/g,""):l.split("{{if title}}")[0]+l.split("{{/if title}}")[1]).replace(/{{title}}/g,a.title||"").replace(/{{text}}/g,a.text||"").replace(/{{afterText}}/g,a.afterText||"").replace(/{{buttons}}/g,o).replace(/{{noButtons}}/g,a.buttons&&0!==a.buttons.length?"":"modal-no-buttons");t._modalTemlateTempDiv.innerHTML=n;var s=smartms(t._modalTemlateTempDiv).children();return smartms("body").append(s[0]),s.find(".modal-button").each(function(o,e){smartms(e).on("click",function(e){!1!==a.buttons[o].close&&t.closeModal(s),a.buttons[o].onClick&&a.buttons[o].onClick(s,e)})}),t.openModal(s),s[0]},t.alert=function(a,o,e){return"function"==typeof o&&(e=arguments[1],o=void 0),t.modal({text:a||"",title:void 0===o?t.params.modalTitle:o,buttons:[{text:t.params.modalButtonOk,bold:!0,onClick:e}]})},t.confirm=function(a,o,e,l){return"function"==typeof o&&(l=arguments[2],e=arguments[1],o=void 0),t.modal({text:a||"",title:void 0===o?t.params.modalTitle:o,buttons:[{text:t.params.modalButtonCancel,onClick:l},{text:t.params.modalButtonOk,bold:!0,onClick:e}]})},t.prompt=function(a,o,e,l){return"function"==typeof o&&(l=arguments[2],e=arguments[1],o=void 0),t.modal({text:a||"",title:void 0===o?t.params.modalTitle:o,afterText:'<input type="text" class="modal-prompt-input">',buttons:[{text:t.params.modalButtonCancel,onClick:function(a){l&&l(smartms(a).find(".modal-prompt-input").val())}},{text:t.params.modalButtonOk,bold:!0,onClick:function(a){e&&e(smartms(a).find(".modal-prompt-input").val())}}]})},t.modalLogin=function(a,o,e,l){return"function"==typeof o&&(l=arguments[2],e=arguments[1],o=void 0),t.modal({text:a||"",title:void 0===o?t.params.modalTitle:o,afterText:'<div class="input-field modal-input-double"><input type="text" name="modal-username" placeholder="'+t.params.modalUsernamePlaceholder+'" class="modal-text-input"></div><div class="input-field modal-input-double"><input type="password" name="modal-password" placeholder="'+t.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:t.params.modalButtonCancel,onClick:function(a){l&&l(smartms(a).find('.modal-text-input[name="modal-username"]').val(),smartms(a).find('.modal-text-input[name="modal-password"]').val())}},{text:t.params.modalButtonOk,bold:!0,onClick:function(a){e&&e(smartms(a).find('.modal-text-input[name="modal-username"]').val(),smartms(a).find('.modal-text-input[name="modal-password"]').val())}}]})},t.modalPassword=function(a,o,e,l){return"function"==typeof o&&(l=arguments[2],e=arguments[1],o=void 0),t.modal({text:a||"",title:void 0===o?t.params.modalTitle:o,afterText:'<div class="input-field"><input type="password" name="modal-password" placeholder="'+t.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:t.params.modalButtonCancel,onClick:function(a){l&&l(smartms(a).find('.modal-text-input[name="modal-password"]').val())}},{text:t.params.modalButtonOk,bold:!0,onClick:function(a){e&&e(smartms(a).find('.modal-text-input[name="modal-password"]').val())}}]})},t.showPreloader=function(a){return t.modal({title:a||t.params.modalPreloaderTitle,text:'<div class="preloader">'+(t.params.material?t.params.materialPreloaderHtml:"")+"</div>",cssClass:"modal-preloader"})},t.hidePreloader=function(){t.closeModal()},t.showIndicator=function(){smartms("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},t.hideIndicator=function(){smartms(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},t.actions=function(a){(a=a||[]).length>0&&!smartms.isArray(a[0])&&(a=[a]);for(var o=t.params.modalActionsTemplate,e="",l=0;l<a.length;l++)for(var n=0;n<a[l].length;n++){0===n&&(e+='<div class="actions-modal-group">');var s=a[l][n],d="actions-modal-button";s.bold&&(d+=" actions-modal-button-bold"),s.red&&(d+=" actions-modal-button-red"),e+='<span class="'+d+'">'+s.text+"</span>",n===a[l].length-1&&(e+="</div>")}var r=o.replace(/{{buttons}}/g,e);t._modalTemlateTempDiv.innerHTML=r;var i=smartms(t._modalTemlateTempDiv).children();smartms("body").append(i[0]);return i.find(".actions-modal-group").each(function(o,e){var l=o;smartms(e).find(".actions-modal-button").each(function(o,e){var n=o,s=a[l][n];smartms(e).on("click",function(a){!1!==s.close&&t.closeModal(i),s.onClick&&s.onClick(i,a)})})}),t.openModal(i),i[0]},t.openModal=function(a){if(a=smartms(a),0===smartms(".modal-overlay").length){var t=document.createElement("div");t.className="modal-overlay",smartms("body").append(t)}a.hasClass("actions-modal")||a.css({marginTop:-a.outerHeight()/2+"px"});a[0].clientLeft;return smartms(".modal-overlay").addClass("modal-overlay-visible"),smartms(a).addClass("modal-in"),!0},t.closeModal=function(a){return a=smartms(a||".modal-in"),smartms(".modal-overlay").removeClass("modal-overlay-visible"),a.trigger("close"),a.toggleClass("modal-in modal-out").transitionEnd(function(t){a.trigger("closed"),a.remove()}),!0}};
<!DOCTYPE html>
<head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">-->
	  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!-- Your app title -->
      <title>18n</title>
  
</head>
<body>
<p><span>Select your language:</span><br>
<select name="language">
  <option value="en_GB">British English</option>
  <option value="fr_FR">Français</option>
  <option value="it_IT">Italiano</option>
  <option value="br_BR">Brasileiro</option>  
</select>
</p>

<ul class="nav nav-sidebar">
  <li><a href="#" data-i18n="menu.Good bye"></a></li>
  <li><a href="#" data-i18n="menu.Hello"></a></li>
  <li><a href="#" data-i18n="menu.Selectyourlanguage"></a></li>
</ul>

<script type="text/javascript" src="lib/js/i18next-1.11.2.js" ></script>


<script type="text/javascript"> 
var resources = {
  'en_GB': { 
    translation: { 
      'menu': {
        'Good bye': 'Good bye! $t(menu.country)',
        'Hello': 'Hello! $t(menu.country)',
        'Selectyourlanguage': 'Select your language: $t(menu.country)',
		'country': 'England'
      }                           
    } 
  },            
  'fr_FR': { 
    translation: { 
      'menu': {
        'Good bye': 'Au revoir ! $t(menu.country)',
        'Hello': 'Bonjour ! $t(menu.country)',
        'Selectyourlanguage': 'Sélectionner votre langage: $t(menu.country)',
        'country': 'France'
      }                           
    } 
  },
  'it_IT': { 
    translation: { 
      'menu': {
        'Good bye': 'Arrivederci! $t(menu.country)',
        'Hello': 'Buongiorno! $t(menu.country)',
        'Selectyourlanguage': 'Seleziona la tua lingua: $t(menu.country)',
        'country': 'Italy'
      }                           
    } 
  },
  'br_BR': { 
    translation: { 
      'menu': {
        'Good bye': 'Oi! $t(menu.country)',
        'Hello': 'Olá! $t(menu.country)',
        'Selectyourlanguage': 'Selecione seu idioma: $t(menu.country)',
        'country': 'Brasil'
      }                           
    } 
  }    
};


var select = document.querySelector('select');
var i18nList = document.querySelectorAll('[data-i18n]');

i18n.init({ 
  resStore: resources,
  lng: 'en_GB',
});  
  
i18nList.forEach(function(v){
  v.text = window.i18n.t(v.dataset.i18n);
});

select.addEventListener('change', function () {
    var selecionada = this.options[this.selectedIndex];
    var o = selecionada.getAttribute('value');
	i18n.init({
		lng: o
	}, function(o) {
		i18nList.forEach(function(v){
		  v.text = window.i18n.t(v.dataset.i18n);
		})
	})
});


			
</script>
  
  </body>
</html>
